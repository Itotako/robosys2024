#!/usr/bin/python3
# SPDX-FileCopyrightText: 2024 Kaito Ito
# SPDX-License-Identifier: BSD-3-Clause

import random
import sys

def main():
    random.seed()  # ã‚·ãƒ¼ãƒ‰ãªã—ã§å‘¼ã³å‡ºã™ä¹±æ•°
    choices = ["ã‚°ãƒ¼", "ãƒãƒ§ã‚­", "ãƒ‘ãƒ¼"]

    print("ã‚¸ãƒ£ãƒ³ã‚±ãƒ³ã‚’é–‹å§‹ã—ã¾ã™ï¼")
    
    # å¤‰æ•°å®šç¾©
    user = sys.stdin.readline().strip()  # å…¥åŠ›ã‹ã‚‰ä½™åˆ†ãªç©ºç™½ã‚’é™¤å»
    cpu = random.randint(0, 2)  # ç›¸æ‰‹ã®æ‰‹

    # å…¥åŠ›ãƒã‚§ãƒƒã‚¯
    if user not in choices:
        sys.stderr.write("ç„¡åŠ¹ãªå…¥åŠ›ã§ã™ã€‚æ­£ã—ã„æ‰‹ï¼ˆã‚°ãƒ¼ã€ãƒãƒ§ã‚­ã€ãƒ‘ãƒ¼ï¼‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\n")
        return  # é–¢æ•°ã‚’çµ‚äº†ã—ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’çµ‚ãˆã‚‹

    print(f"ç›¸æ‰‹: {choices[cpu]}")
    print(f"ã‚ãªãŸ: {user}")

    # å‹æ•—åˆ¤å®š
    if user == choices[cpu]:
        print("ã‚ã„ã“ã§ã™ã€‚ã¾ãŸæŒ‘æˆ¦ã—ã¦ã­ï¼")
    elif (user == "ã‚°ãƒ¼" and choices[cpu] == "ãƒãƒ§ã‚­") or \
         (user == "ãƒãƒ§ã‚­" and choices[cpu] == "ãƒ‘ãƒ¼") or \
         (user == "ãƒ‘ãƒ¼" and choices[cpu] == "ã‚°ãƒ¼"):
        print("ã‚ãªãŸã®å‹ã¡ã§ã™ï¼ã‚„ã‚‹ã­ï¼")
    else:
        print("ã‚ãªãŸã®è² ã‘ã§ã™â€¦ä»Šå›ã¯è² ã‘ã¡ã‚ƒã£ãŸã‘ã©ã€æ¬¡ã¯ãã£ã¨å‹ã¦ã‚‹ã‚ˆğŸ‘")

if __name__ == "__main__":
    main()

